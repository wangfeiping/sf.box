# 完整编辑器标签页使用说明

## 问题说明

在 Chrome 扩展的弹窗（Popup）环境中，由于浏览器的限制，输入法（IME）可能无法正常工作，导致无法输入中文、日文、韩文等需要输入法的语言。

## 解决方案

Muse 现在提供了两种使用方式：

### 1. 弹窗模式（Popup）
- 点击浏览器工具栏的 Muse 图标
- 在 800x600 的弹窗中快速编辑
- ⚠️ 可能无法使用输入法输入中日韩文字

### 2. 完整编辑器模式（推荐）✨
- 在弹窗中点击 **🚀 打开编辑器** 按钮
- 在新的浏览器标签页中打开完整编辑器
- ✅ 完全支持输入法（中文、日文、韩文等）
- ✅ 全屏体验，更大的编辑空间
- ✅ 所有功能与弹窗版本完全相同

## 使用步骤

### 快速打开完整编辑器

1. 点击浏览器工具栏的 Muse 图标
2. 在弹窗顶部找到 **🚀 打开编辑器** 按钮（紫色渐变样式）
3. 点击按钮
4. 编辑器将在新标签页中打开
5. 开始使用输入法输入中文、日文等文字

### 直接访问
您也可以直接在浏览器中输入：
```
chrome-extension://[扩展ID]/editor.html
```

## 功能说明

完整编辑器包含所有功能：

### 📝 文件管理
- 📄 新建文件
- 💾 保存文件
- 📂 打开文件
- 🗑️ 删除文件

### ✏️ 编辑功能
- Markdown 实时编辑
- 👁️ 分屏预览
- 字符统计
- 语法高亮

### 🔧 Git 版本控制
- 🔧 Git Init - 初始化仓库
- ✅ Git Commit - 提交更改
- 📜 Git Log - 查看历史
- 🔍 Git Diff - 对比差异

## 数据同步

✅ **完整编辑器与弹窗共享数据**

- 所有文件保存在同一个 Chrome Storage 中
- 在弹窗中保存的文件可以在编辑器中打开
- 在编辑器中保存的文件可以在弹窗中打开
- Git 提交历史完全共享

## 输入法支持

在完整编辑器标签页中，支持所有输入法：

- ✅ 中文输入法（搜狗、百度、微软拼音等）
- ✅ 日文输入法（平假名、片假名、汉字）
- ✅ 韩文输入法
- ✅ 其他所有 IME 输入法

## 快捷键（未来计划）

未来版本可能添加的快捷键：

- `Ctrl/Cmd + S` - 保存文件
- `Ctrl/Cmd + N` - 新建文件
- `Ctrl/Cmd + O` - 打开文件
- `Ctrl/Cmd + P` - 切换预览

## 技术实现

### popup.html
- 添加了 "🚀 打开编辑器" 按钮
- 按钮调用 `openFullEditor()` 函数

### popup.js
```javascript
function openFullEditor() {
  chrome.tabs.create({
    url: chrome.runtime.getURL('editor.html')
  });
}
```

### editor.html
- 独立的完整页面
- 使用相同的 popup.js 和 styles.css
- 在浏览器标签页环境中运行，无 IME 限制

### manifest.json
- 添加了 `tabs` 权限以支持打开新标签页

## 常见问题

### Q: 弹窗和编辑器的数据会冲突吗？
A: 不会。两者使用相同的 Chrome Storage，数据完全同步。

### Q: 可以同时打开多个编辑器标签页吗？
A: 可以，但建议只打开一个以避免数据冲突。

### Q: 编辑器标签页关闭后数据会丢失吗？
A: 不会。所有数据都保存在 Chrome Storage 中，关闭标签页不影响数据。

### Q: 为什么弹窗不能输入中文？
A: 这是 Chrome 扩展 Popup 的已知限制，与浏览器安全机制有关。使用完整编辑器可以解决此问题。

## 更新日志

### v1.0.0 (2025-11-01)
- ✨ 新增完整编辑器标签页模式
- ✨ 添加 "🚀 打开编辑器" 按钮
- ✅ 完整支持输入法（中文、日文、韩文）
- 🎨 优化按钮样式，使用紫色渐变
- 📝 添加 tabs 权限

## 建议

💡 **推荐使用完整编辑器模式**

如果您需要：
- 输入中文、日文、韩文等需要输入法的文字
- 更大的编辑空间
- 长时间编辑文档

请使用 **🚀 打开编辑器** 按钮打开完整编辑器标签页！
